<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>B·∫£n ƒë·ªì ch√∫ th√≠ch</title>
<style>
 

.map img {
  display: block;
  max-width: 100%;
  user-select: none;
  pointer-events: none; /* üî• C·ª∞C QUAN TR·ªåNG */
}

.hotspot {
  width: 14px;
  height: 14px;
  background: #1e90ff;
  border-radius: 50%;
  position: absolute;
  z-index: 10;           /* üî• ƒê√à L√äN ·∫¢NH */
  cursor: pointer;
}

  body {
    margin: 0;
    font-family: Arial, sans-serif;
  }

  .map-container {
    position: relative;
    display: inline-block;
    max-width: 1200px;
    margin: auto;
  }

  .map-container img {
    user-select: none;
  -webkit-user-drag: none;
  pointer-events: none;
    width: 100%;
    display: block;
  }

  /* hotspot */
  .hotspot {
    position: absolute;
    width: 18px;
    height: 18px;
    background: #1e90ff;
    border-radius: 50%;
    cursor: pointer;
  }

  /* popup */
  .popup {
    position: absolute;
    background: #fff;
    border: 1px solid #ccc;
    padding: 8px 10px;
    font-size: 14px;
    display: none;
    max-width: 220px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    z-index: 10;
  }
</style>
</head>
<body>
<button id="addBtn"
        style="position:fixed;
               top:10px;
               right:10px;
               z-index:9999;
               padding:6px 12px;
               font-size:14px;">
  ‚ûï Th√™m ch√∫ th√≠ch
</button>

<div class="map-container">
  <img src="anh.jpg" alt="B·∫£n ƒë·ªì">

  <!-- ƒêI·ªÇM 1 -->
  <div class="hotspot" style="top: 70%; left:52%;" onclick="showPopup(event,'p1')"></div>
  <div class="popup" id="p1" style="top:48%; left:55%;">
    <b style="color:red; text-decoration: underline;">ƒê·ª©c Xu√¢n</b><br>
    CHT: 2//Th√¢n ƒê·ª©c Xu√¢n<br>
    pCHT: 2//Tr∆∞∆°ng Quang Hai<br>
    CTVP: 1//Ph√πng VƒÉn Tu·∫•n<br>
    TLTC:<br>
    TLQL:<br>
    TLCT:<br>
    NVCM:<br>
  </div>

  <!-- ƒêI·ªÇM 2 -->
  <div class="hotspot" style="top: 76%; left: 53.7%;;" onclick="showPopup(event,'p2')"></div>
  <div class="popup" id="p2" style="top: 76%; left: 53.7%;">
    <b style="color:red; text-decoration: underline;">B·∫Øc K·∫°n</b><br>
    CHT: 3//Nguy·ªÖn Anh Ti·∫øp<br>
    pCHT: 2//<br>
    CTVP: 2// ƒê·ªó Quang Ti·∫øn<br>
    TLTC:<br>
    TLQL:<br>
    TLCT:<br>
    NVCM:<br>
  </div>

  <!-- ƒêI·ªÇM 3 -->
  <div class="hotspot" style="top:60%; left: 40%;" onclick="showPopup(event,'p3')"></div>
  <div class="popup" id="p3" style="top:60%; left: 40%;">
    <b style="color:red; text-decoration: underline;">Phong Quang</b><br>
    CHT: 3//Nguy·ªÖn Anh Duy<br>
    pCHT: 2// Tr·ªãnh VƒÉn C∆∞·ªùng<br>
    CTVP: 1// L·ª•c Huy H√†o<br>
    TLTC:<br>
    TLQL:<br>
    TLCT:<br>
    NVCM:<br>
  </div>
  
  <!-- ƒêI·ªÇM 4 -->
  <div class="hotspot" style="top: 64.5%; left: 56.7%;" onclick="showPopup(event,'p4')"></div>
  <div class="popup" id="p4" style="top: 64.5%; left: 56.7%;">
    <b style="color:red; text-decoration: underline;">C·∫©m Gi√†ng</b><br>
    CHT: 1// ƒê·ªìng H·ª©a Tr√∫c<br>
    pCHT: 2// Tri·ªáu ƒê√¨nh D≈©ng<br>
    CTVP: 3/ ƒê·ªãch Xu√¢n Kh√°nh<br>
    TLTC:<br>
    TLQL:<br>
    TLCT:<br>
    NVCM:<br>
  </div>
  <!-- ƒêI·ªÇM 5-->
  <div class="hotspot" style="top: 64.6%; left: 63.1%;" onclick="showPopup(event,'p5')"></div>
  <div class="popup" id="p5" style="top: 64.6%; left: 63.1%;">
    <b style="color:red; text-decoration: underline;">Vƒ©nh Th√¥ng</b><br>
    CHT: 1// ƒê·ªìng H·ª©a Tr√∫c<br>
    pCHT: 2// Tri·ªáu ƒê√¨nh D≈©ng<br>
    CTVP: 3/ ƒê·ªãch Xu√¢n Kh√°nh<br>
    TLTC:<br>
    TLQL:<br>
    TLCT:<br>
    NVCM:<br>
  </div>

   <!-- ƒêI·ªÇM 6-->
  <div class="hotspot" style="top: 73.8%; left: 37.5%;" onclick="showPopup(event,'p6')"></div>
  <div class="popup" id="p6" style="top: 73.8%; left: 37.5%;;">
    <b style="color:red; text-decoration: underline;">B·∫°ch Th√¥ng</b><br>
    CHT: 2// l√Ω quang huy<br>
    pCHT: 1// B√†n VƒÉn S∆°n<br>
    CTVP: <br>
    TLTC:2// L∆∞·ªùng Thanh Tuy·∫øn<br>
    TLQL:<br>
    TLCT:<br>
    NVCM:<br>
  </div>
   <!-- ƒêI·ªÇM 7-->
  <div class="hotspot" style="top: 56.4%; left: 51.8%;" onclick="showPopup(event,'p7')"></div>
  <div class="popup" id="p7" style="top: 56.4%; left: 51.8%;">
    <b style="color:red; text-decoration: underline;">Ph·ªß Th√¥ng</b><br>
    CHT: <br>
    pCHT: 1// Tri·ªáu VƒÉn Vi·ªán<br>
    CTVP: 1// Nguy·ªÖn VƒÉn H·ªçc<br>
    TLTC:<br>
    TLQL:2// qncn N√¥ng VƒÉn Phi√™n<br>
    TLCT:<br>
    NVCM:<br>
  </div> 
  <!-- ƒêI·ªÇM 8-->
  <div class="hotspot" style="top: 84.5%; left: 55.4%;" onclick="showPopup(event,'p8')"></div>
  <div class="popup" id="p8" style="top: 84.5%; left: 55.4%;">
    <b style="color:red; text-decoration: underline;">T√¢n K·ª≥</b><br>
    CHT: <br>
    pCHT: 2// l√Ω kh√°nh tr√¨nh<br>
    CTVP: 1// Ho√†ng Qu·ªëc Ti·ªáp<br>
    TLTC:<br>
    TLQL:<br>
    TLCT:<br>
    NVCM:<br>
  </div>
<!-- ƒêI·ªÇM 9-->
  <div class="hotspot" style="top: 84.9%; left: 45.9%;" onclick="showPopup(event,'p9')"></div>
  <div class="popup" id="p9" style="top: 84.9%; left: 45.9%;;">
    <b style="color:red; text-decoration: underline;">Thanh Mai</b><br>
    CHT: <br>
    pCHT: <br>
    CTVP: 4/ Tri·ªáu VƒÉn Namp<br>
    TLTC: 1// V·ª´ VƒÉn Nguy·ªÖn<br>
    TLQL:<br>
    TLCT:<br>
    NVCM:<br>
  </div>
  <!-- ƒêI·ªÇM 10-->
  <div class="hotspot" style="top: 92%; left: 48.7%;" onclick="showPopup(event,'p10')"></div>
  <div class="popup" id="p10" style="top: 92%; left: 48.7%;;">
    <b style="color:red; text-decoration: underline;">Thanh Th·ªãnh</b><br>
    CHT: <br>
    pCHT: 4/ H√† M·∫°nh ƒê·ª©c<br>
    CTVP: 4/ L∆∞·ªùng Minh T√πng<br>
    TLTC: <br>
    TLQL:<br>
    TLCT:<br>
    NVCM:<br>
  </div> 
  <!-- ƒêI·ªÇM 11-->
  <div class="hotspot" style="top: 98.3%; left: 50%;" onclick="showPopup(event,'p11')"></div>
  <div class="popup" id="p11" style="top: 92%; left: 48.7%;;">
    <b style="color:red; text-decoration: underline;">Ch·ª£ M·ªõi</b><br>
    CHT: <br>
    pCHT: 1// S·∫ßm VƒÉn C∆∞·ªùng<br>
    CTVP: 1// ƒêinh H·ªØu Ho√†ng<br>
    TLTC: <br>
    TLQL:<br>
    TLCT:<br>
    NVCM:<br>
  </div>
    <!-- ƒêI·ªÇM 12-->
  <div class="hotspot" style="top: 95%; left: 57.9%;" onclick="showPopup(event,'p12')"></div>
  <div class="popup" id="p12" style="top: 95%; left: 57.9%;">
    <b style="color:red; text-decoration: underline;">Y√™n B√¨nh</b><br>
    CHT: <br>
    pCHT: <br>
    CTVP: 1// Ho√†ng VƒÉn Ch∆∞∆°ng<br>
    TLTC: <br>
    TLQL:<br>
    TLCT:<br>
    NVCM:<br>
  </div><!-- ƒêI·ªÇM 13-->
  <div class="hotspot" style="top: 95%; left: 57.9%;" onclick="showPopup(event,'p13')"></div>
  <div class="popup" id="p13" style="top: 95%; left: 57.9%;">
    <b style="color:red; text-decoration: underline;">Y√™n B√¨nh</b><br>
    CHT: <br>
    pCHT: <br>
    CTVP: 1// Ho√†ng VƒÉn Ch∆∞∆°ng<br>
    TLTC: <br>
    TLQL:<br>
    TLCT:<br>
    NVCM:<br>
  </div>
</div>

<script>

  const popupTemplate = `
<b style="color:red; text-decoration: underline;">T√äN ƒê∆†N V·ªä</b><br>
CHT: <br>
pCHT: <br>
CTVP: <br>
TLTC: <br>
TLQL: <br>
TLCT: <br>
NVCM: <br>
`;

function showPopup(e, id) {
  e.stopPropagation();
  const p = document.getElementById(id);
  const open = p.style.display === "block";
  closeAll();
  p.style.display = open ? "none" : "block";
}


function closeAll() {
  document.querySelectorAll('.popup').forEach(p => p.style.display = 'none');
}
</script>
<script>
document.querySelectorAll('.hotspot').forEach(h => {
  let dragging = false;

  h.addEventListener('mousedown', e => {
    dragging = true;
    e.preventDefault();
    e.stopPropagation();

    const container = document.querySelector('.map-container');
    const rect = container.getBoundingClientRect();

    document.addEventListener('mousemove', move);
    document.addEventListener('mouseup', up);

    function move(ev) {
      if (!dragging) return;

      const x = ev.clientX - rect.left;
      const y = ev.clientY - rect.top;

      const left = (x / rect.width * 100).toFixed(1);
      const top  = (y / rect.height * 100).toFixed(1);

      h.style.left = left + '%';
      h.style.top  = top + '%';

      h.title = `top:${top}%  left:${left}%`;
    }

    function up() {
      dragging = false;
      document.removeEventListener('mousemove', move);
      document.removeEventListener('mouseup', up);
    }
  });
});
</script>

<script>
let adding = false;

document.getElementById("addBtn").onclick = () => {
  adding = true;
  alert("Click v√†o v·ªã tr√≠ tr√™n ·∫£nh ƒë·ªÉ th√™m ch√∫ th√≠ch");
};

let count = document.querySelectorAll(".hotspot").length + 1;

document.querySelector(".map-container").addEventListener("click", e => {
  if (!adding) return;

  const rect = e.currentTarget.getBoundingClientRect();
  const left = ((e.clientX - rect.left) / rect.width * 100).toFixed(1) + "%";
  const top  = ((e.clientY - rect.top) / rect.height * 100).toFixed(1) + "%";

  const id = "p" + count++;

  const h = document.createElement("div");
  h.className = "hotspot";
  h.style.left = left;
  h.style.top = top;
  h.setAttribute("onclick", `showPopup(event,'${id}')`);

  const pop = document.createElement("div");
  pop.className = "popup";
  pop.id = id;
  pop.style.left = left;
  pop.style.top = top;
  pop.innerHTML = popupTemplate;
  pop.contentEditable = "true";
pop.addEventListener("blur", saveData);

  document.querySelector(".map-container").appendChild(h);
  document.querySelector(".map-container").appendChild(pop);
 
  saveData();
  adding = false;
});

function saveData() {
  const data = [];
  document.querySelectorAll(".hotspot").forEach((h, i) => {
    const pop = document.querySelectorAll(".popup")[i];
    data.push({
      left: h.style.left,
      top: h.style.top,
      html: pop.innerHTML
    });
  });
  localStorage.setItem("mapData", JSON.stringify(data));
}

function loadData() {
  const raw = localStorage.getItem("mapData");
  if (!raw) return;

  const data = JSON.parse(raw);
  const map = document.querySelector(".map-container");

  // xo√° ƒëi·ªÉm c≈©
  document.querySelectorAll(".hotspot, .popup").forEach(e => e.remove());

  data.forEach(d => {
    const h = document.createElement("div");
    h.className = "hotspot";
    h.style.left = d.left;
    h.style.top = d.top;

    const pop = document.createElement("div");
    pop.className = "popup";
    pop.style.left = d.left;
    pop.style.top = d.top;
    pop.innerHTML = d.html;
    pop.contentEditable = "true";
pop.contentEditable = "true";
pop.addEventListener("blur", saveData);

    h.onclick = e => {
      e.stopPropagation();
      document.querySelectorAll(".popup").forEach(p => {
        if (p !== pop) p.style.display = "none";
      });
      pop.style.display = (pop.style.display === "block") ? "none" : "block";
    };

    map.appendChild(h);
    map.appendChild(pop);
  });
}
window.addEventListener("load", loadData);
</script>

</body>


</html>










